# **데이터프레임 변경**

## **1.환경준비**

```python
# 라이브러리 불러오기
import pandas as pd
import numpy as np
```

* Attrition 데이터 불러오기

**[Attrition 데이터 셋 정보]**

|	구분	|	변수 명	|	내용	|	type	|	비고	|

|----|----|----|----|----|

|	**Target**	|	**Attrition**	|	이직여부, Yes , No	|	범주	| 1- 이직, 0- 잔류		|

|	feature	|	Age	|	나이	|	숫자	|		|

|	feature	|	DistanceFromHome	|	집-직장 거리	|	숫자	|	마일	|

|	feature	|	EmployNumber	|	사번	|	숫자	| 	|

|	feature	|	Gender	|	성별	|	범주	| Male, Female		|

|	feature	|	JobSatisfaction	|	직무 만족도	|	범주	|	1 Low, 2 Medium, 3 High, 4 Very High	|

|	feature	|	MaritalStatus	|	결혼상태	|	범주	| Single, Married, Divorced		|

|	feature	|	MonthlyIncome	|	월급	|	숫자	| 달러	|

|	feature	|	OverTime	|	야근여부	|	범주	|	Yes, No	|

|	feature	|	PercentSalaryHike	|	전년대비 급여인상율	|	숫자	|	%	|

|	feature	|	TotalWorkingYears	|	총 경력 연수	|	숫자	|		|

```python
# 데이터 읽어오기
path = 'https://raw.githubusercontent.com/DA4BAM/dataset/master/Attrition_simple2.CSV'
data = pd.read_csv(path)  

# 상위 5개 확인
data.head(5)
```

<div>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Attrition</th>
      <th>Age</th>
      <th>DistanceFromHome</th>
      <th>EmployeeNumber</th>
      <th>Gender</th>
      <th>JobSatisfaction</th>
      <th>MaritalStatus</th>
      <th>MonthlyIncome</th>
      <th>OverTime</th>
      <th>PercentSalaryHike</th>
      <th>TotalWorkingYears</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0</td>
      <td>33</td>
      <td>7</td>
      <td>817</td>
      <td>Male</td>
      <td>3</td>
      <td>Married</td>
      <td>11691</td>
      <td>No</td>
      <td>11</td>
      <td>14</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0</td>
      <td>35</td>
      <td>18</td>
      <td>1412</td>
      <td>Male</td>
      <td>4</td>
      <td>Single</td>
      <td>9362</td>
      <td>No</td>
      <td>11</td>
      <td>10</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0</td>
      <td>42</td>
      <td>6</td>
      <td>1911</td>
      <td>Male</td>
      <td>1</td>
      <td>Married</td>
      <td>13348</td>
      <td>No</td>
      <td>13</td>
      <td>18</td>
    </tr>
    <tr>
      <th>3</th>
      <td>0</td>
      <td>46</td>
      <td>2</td>
      <td>1204</td>
      <td>Female</td>
      <td>1</td>
      <td>Married</td>
      <td>17048</td>
      <td>No</td>
      <td>23</td>
      <td>28</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1</td>
      <td>22</td>
      <td>4</td>
      <td>593</td>
      <td>Male</td>
      <td>3</td>
      <td>Single</td>
      <td>3894</td>
      <td>No</td>
      <td>16</td>
      <td>4</td>
    </tr>
  </tbody>
</table>
</div>

## **2.데이터프레임 변경**

### **(1) 열 이름 변경**

- 기존 데이터프레임의 열 이름을 적절히 변경해야 할 경우가 있습니다.
- 또는 집계 결과를 가진 열 이름을 이해하기 쉽게 변경해야 할 경우도 있습니다.

#### **1) 일부 열 이름 변경**

- **rename()** 메소드를 사용해 변경 전후의 열 이름을 딕셔너리 형태로 나열하는 방법으로 변경합니다.
- **inplace=True** 옵션을 설정해야 변경 사항이 실제 반영이 됩니다.

- 다음과 같이 열 이름을 변경합니다.
    - DistanceFromHome → Distance
    - EmployeeNumber → EmpNo
    - JobSatisfaction → JobSat
    - MonthlyIncome → M_Income
    - PercentSalaryHike → PctSalHike
    - TotalWorkingYears → TotWY

```python
# rename() 함수로 열 이름 변경
data.rename(columns={'DistanceFromHome' : 'Distance', 
                    'EmployeeNumber' : 'EmpNo',
                    'JobSatisfaction' : 'JobSat',
                    'MonthlyIncome' : 'M_Income',
                    'PercentSalaryHike' : 'PctSalHike',
                    'TotalWorkingYears' : 'TotWY'}, inplace=True)

# 확인
data.head()
```

<div>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Attrition</th>
      <th>Age</th>
      <th>Distance</th>
      <th>EmpNo</th>
      <th>Gender</th>
      <th>JobSat</th>
      <th>MaritalStatus</th>
      <th>M_Income</th>
      <th>OverTime</th>
      <th>PctSalHike</th>
      <th>TotWY</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0</td>
      <td>33</td>
      <td>7</td>
      <td>817</td>
      <td>Male</td>
      <td>3</td>
      <td>Married</td>
      <td>11691</td>
      <td>No</td>
      <td>11</td>
      <td>14</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0</td>
      <td>35</td>
      <td>18</td>
      <td>1412</td>
      <td>Male</td>
      <td>4</td>
      <td>Single</td>
      <td>9362</td>
      <td>No</td>
      <td>11</td>
      <td>10</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0</td>
      <td>42</td>
      <td>6</td>
      <td>1911</td>
      <td>Male</td>
      <td>1</td>
      <td>Married</td>
      <td>13348</td>
      <td>No</td>
      <td>13</td>
      <td>18</td>
    </tr>
    <tr>
      <th>3</th>
      <td>0</td>
      <td>46</td>
      <td>2</td>
      <td>1204</td>
      <td>Female</td>
      <td>1</td>
      <td>Married</td>
      <td>17048</td>
      <td>No</td>
      <td>23</td>
      <td>28</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1</td>
      <td>22</td>
      <td>4</td>
      <td>593</td>
      <td>Male</td>
      <td>3</td>
      <td>Single</td>
      <td>3894</td>
      <td>No</td>
      <td>16</td>
      <td>4</td>
    </tr>
  </tbody>
</table>
</div>

#### **2) 모든 열 이름 변경**

- 모든 열 이름을 변경할 때는 **columns** 속성을 변경합니다.
- 변경이 필요없는 열은 기존 이름을 부여해 변경합니다. 

```python
# 모든 열 이름 변경
data.columns = ['Attr','Age','Dist','EmpNo','Gen','JobSat','Marital','M_Income', 'OT', 'PctSalHike', 'TotWY']

# 확인
data.head()
```

<div>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Attr</th>
      <th>Age</th>
      <th>Dist</th>
      <th>EmpNo</th>
      <th>Gen</th>
      <th>JobSat</th>
      <th>Marital</th>
      <th>M_Income</th>
      <th>OT</th>
      <th>PctSalHike</th>
      <th>TotWY</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0</td>
      <td>33</td>
      <td>7</td>
      <td>817</td>
      <td>Male</td>
      <td>3</td>
      <td>Married</td>
      <td>11691</td>
      <td>No</td>
      <td>11</td>
      <td>14</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0</td>
      <td>35</td>
      <td>18</td>
      <td>1412</td>
      <td>Male</td>
      <td>4</td>
      <td>Single</td>
      <td>9362</td>
      <td>No</td>
      <td>11</td>
      <td>10</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0</td>
      <td>42</td>
      <td>6</td>
      <td>1911</td>
      <td>Male</td>
      <td>1</td>
      <td>Married</td>
      <td>13348</td>
      <td>No</td>
      <td>13</td>
      <td>18</td>
    </tr>
    <tr>
      <th>3</th>
      <td>0</td>
      <td>46</td>
      <td>2</td>
      <td>1204</td>
      <td>Female</td>
      <td>1</td>
      <td>Married</td>
      <td>17048</td>
      <td>No</td>
      <td>23</td>
      <td>28</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1</td>
      <td>22</td>
      <td>4</td>
      <td>593</td>
      <td>Male</td>
      <td>3</td>
      <td>Single</td>
      <td>3894</td>
      <td>No</td>
      <td>16</td>
      <td>4</td>
    </tr>
  </tbody>
</table>
</div>

### **(2) 열 추가**

- 새로운 열을 추가하여 기존 데이터에서 계산된 결괏값을 저장해야할 경우가 있습니다.
- 작년 급여액을 계산해서 열을 추가해 봅시다. 
    * 올해 급여 : MonthlyIncome(M_Income)
    * 급여 인상율 : PercentSalaryHike(PctSalHike)
    * 작년 급여 * ( 1 + PctSalHike / 100 ) = M_Income
    * 작년 급여 = M_Income / (( 1 + PctSalHike / 100 )

```python
# final_amt 열 추가
data['Income_LY'] = data['M_Income'] / (1+data['PctSalHike']/100 )
data['Income_LY'] = round(data['Income_LY'])
# 확인
data.head()
```

<div>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Attr</th>
      <th>Age</th>
      <th>Dist</th>
      <th>EmpNo</th>
      <th>Gen</th>
      <th>JobSat</th>
      <th>Marital</th>
      <th>M_Income</th>
      <th>OT</th>
      <th>PctSalHike</th>
      <th>TotWY</th>
      <th>Income_LY</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0</td>
      <td>33</td>
      <td>7</td>
      <td>817</td>
      <td>Male</td>
      <td>3</td>
      <td>Married</td>
      <td>11691</td>
      <td>No</td>
      <td>11</td>
      <td>14</td>
      <td>10532.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0</td>
      <td>35</td>
      <td>18</td>
      <td>1412</td>
      <td>Male</td>
      <td>4</td>
      <td>Single</td>
      <td>9362</td>
      <td>No</td>
      <td>11</td>
      <td>10</td>
      <td>8434.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0</td>
      <td>42</td>
      <td>6</td>
      <td>1911</td>
      <td>Male</td>
      <td>1</td>
      <td>Married</td>
      <td>13348</td>
      <td>No</td>
      <td>13</td>
      <td>18</td>
      <td>11812.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>0</td>
      <td>46</td>
      <td>2</td>
      <td>1204</td>
      <td>Female</td>
      <td>1</td>
      <td>Married</td>
      <td>17048</td>
      <td>No</td>
      <td>23</td>
      <td>28</td>
      <td>13860.0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1</td>
      <td>22</td>
      <td>4</td>
      <td>593</td>
      <td>Male</td>
      <td>3</td>
      <td>Single</td>
      <td>3894</td>
      <td>No</td>
      <td>16</td>
      <td>4</td>
      <td>3357.0</td>
    </tr>
  </tbody>
</table>
</div>

- (참조) insert() 메소드를 사용하면 원하는 위치에 열을 추가할 수 있습니다.

    * 데이터프레임의 칼럼 위치를 너무 신경쓰지 맙시다.^^

> 연습문제

[문1] 직무만족도(JobSat) 변수가 어떤 값을 몇 개 갖고 있는지 확인하세요.(.value_counts())

```python
data['JobSat'].value_counts()
```

<pre>
JobSat
4    373
3    354
1    243
2    226
Name: count, dtype: int64
</pre>

[문2] 1,2를 불만(unsat), 3,4 를 만족(sat)으로 하는 새로운 변수JobSat2를 추가하시오.

np.where를 사용해 봅시다!

```python
# np.where(조건문, 참값, 거짓값)
# data['JobSat2'] = np.where((data['JobSat'] == 3) | (data['JobSat'] == 4), 'sat', 'unsat')
data['JobSat2'] = np.where(data['JobSat'] < 3, 'unsat', 'sat')
data
```

<div>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Attr</th>
      <th>Age</th>
      <th>Dist</th>
      <th>EmpNo</th>
      <th>Gen</th>
      <th>JobSat</th>
      <th>Marital</th>
      <th>M_Income</th>
      <th>OT</th>
      <th>PctSalHike</th>
      <th>TotWY</th>
      <th>Income_LY</th>
      <th>JobSat2</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0</td>
      <td>33</td>
      <td>7</td>
      <td>817</td>
      <td>Male</td>
      <td>3</td>
      <td>Married</td>
      <td>11691</td>
      <td>No</td>
      <td>11</td>
      <td>14</td>
      <td>10532.0</td>
      <td>sat</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0</td>
      <td>35</td>
      <td>18</td>
      <td>1412</td>
      <td>Male</td>
      <td>4</td>
      <td>Single</td>
      <td>9362</td>
      <td>No</td>
      <td>11</td>
      <td>10</td>
      <td>8434.0</td>
      <td>sat</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0</td>
      <td>42</td>
      <td>6</td>
      <td>1911</td>
      <td>Male</td>
      <td>1</td>
      <td>Married</td>
      <td>13348</td>
      <td>No</td>
      <td>13</td>
      <td>18</td>
      <td>11812.0</td>
      <td>unsat</td>
    </tr>
    <tr>
      <th>3</th>
      <td>0</td>
      <td>46</td>
      <td>2</td>
      <td>1204</td>
      <td>Female</td>
      <td>1</td>
      <td>Married</td>
      <td>17048</td>
      <td>No</td>
      <td>23</td>
      <td>28</td>
      <td>13860.0</td>
      <td>unsat</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1</td>
      <td>22</td>
      <td>4</td>
      <td>593</td>
      <td>Male</td>
      <td>3</td>
      <td>Single</td>
      <td>3894</td>
      <td>No</td>
      <td>16</td>
      <td>4</td>
      <td>3357.0</td>
      <td>sat</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>1191</th>
      <td>0</td>
      <td>32</td>
      <td>5</td>
      <td>1555</td>
      <td>Female</td>
      <td>2</td>
      <td>Married</td>
      <td>5878</td>
      <td>No</td>
      <td>12</td>
      <td>12</td>
      <td>5248.0</td>
      <td>unsat</td>
    </tr>
    <tr>
      <th>1192</th>
      <td>0</td>
      <td>27</td>
      <td>19</td>
      <td>1619</td>
      <td>Male</td>
      <td>1</td>
      <td>Divorced</td>
      <td>4066</td>
      <td>No</td>
      <td>11</td>
      <td>7</td>
      <td>3663.0</td>
      <td>unsat</td>
    </tr>
    <tr>
      <th>1193</th>
      <td>0</td>
      <td>29</td>
      <td>9</td>
      <td>1558</td>
      <td>Male</td>
      <td>3</td>
      <td>Married</td>
      <td>2451</td>
      <td>No</td>
      <td>18</td>
      <td>5</td>
      <td>2077.0</td>
      <td>sat</td>
    </tr>
    <tr>
      <th>1194</th>
      <td>0</td>
      <td>29</td>
      <td>2</td>
      <td>469</td>
      <td>Male</td>
      <td>3</td>
      <td>Married</td>
      <td>4649</td>
      <td>No</td>
      <td>14</td>
      <td>4</td>
      <td>4078.0</td>
      <td>sat</td>
    </tr>
    <tr>
      <th>1195</th>
      <td>0</td>
      <td>43</td>
      <td>16</td>
      <td>327</td>
      <td>Female</td>
      <td>4</td>
      <td>Married</td>
      <td>16064</td>
      <td>Yes</td>
      <td>22</td>
      <td>22</td>
      <td>13167.0</td>
      <td>sat</td>
    </tr>
  </tbody>
</table>
<p>1196 rows × 13 columns</p>
</div>

[문3] 급여 인상액(Diff_Income)을 추가합시다.

```python
data['Diff_Income'] = data['M_Income'] - data['Income_LY']
data
```

<div>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Attr</th>
      <th>Age</th>
      <th>Dist</th>
      <th>EmpNo</th>
      <th>Gen</th>
      <th>JobSat</th>
      <th>Marital</th>
      <th>M_Income</th>
      <th>OT</th>
      <th>PctSalHike</th>
      <th>TotWY</th>
      <th>Income_LY</th>
      <th>JobSat2</th>
      <th>Diff_Income</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0</td>
      <td>33</td>
      <td>7</td>
      <td>817</td>
      <td>Male</td>
      <td>3</td>
      <td>Married</td>
      <td>11691</td>
      <td>No</td>
      <td>11</td>
      <td>14</td>
      <td>10532.0</td>
      <td>sat</td>
      <td>1159.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0</td>
      <td>35</td>
      <td>18</td>
      <td>1412</td>
      <td>Male</td>
      <td>4</td>
      <td>Single</td>
      <td>9362</td>
      <td>No</td>
      <td>11</td>
      <td>10</td>
      <td>8434.0</td>
      <td>sat</td>
      <td>928.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0</td>
      <td>42</td>
      <td>6</td>
      <td>1911</td>
      <td>Male</td>
      <td>1</td>
      <td>Married</td>
      <td>13348</td>
      <td>No</td>
      <td>13</td>
      <td>18</td>
      <td>11812.0</td>
      <td>unsat</td>
      <td>1536.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>0</td>
      <td>46</td>
      <td>2</td>
      <td>1204</td>
      <td>Female</td>
      <td>1</td>
      <td>Married</td>
      <td>17048</td>
      <td>No</td>
      <td>23</td>
      <td>28</td>
      <td>13860.0</td>
      <td>unsat</td>
      <td>3188.0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1</td>
      <td>22</td>
      <td>4</td>
      <td>593</td>
      <td>Male</td>
      <td>3</td>
      <td>Single</td>
      <td>3894</td>
      <td>No</td>
      <td>16</td>
      <td>4</td>
      <td>3357.0</td>
      <td>sat</td>
      <td>537.0</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>1191</th>
      <td>0</td>
      <td>32</td>
      <td>5</td>
      <td>1555</td>
      <td>Female</td>
      <td>2</td>
      <td>Married</td>
      <td>5878</td>
      <td>No</td>
      <td>12</td>
      <td>12</td>
      <td>5248.0</td>
      <td>unsat</td>
      <td>630.0</td>
    </tr>
    <tr>
      <th>1192</th>
      <td>0</td>
      <td>27</td>
      <td>19</td>
      <td>1619</td>
      <td>Male</td>
      <td>1</td>
      <td>Divorced</td>
      <td>4066</td>
      <td>No</td>
      <td>11</td>
      <td>7</td>
      <td>3663.0</td>
      <td>unsat</td>
      <td>403.0</td>
    </tr>
    <tr>
      <th>1193</th>
      <td>0</td>
      <td>29</td>
      <td>9</td>
      <td>1558</td>
      <td>Male</td>
      <td>3</td>
      <td>Married</td>
      <td>2451</td>
      <td>No</td>
      <td>18</td>
      <td>5</td>
      <td>2077.0</td>
      <td>sat</td>
      <td>374.0</td>
    </tr>
    <tr>
      <th>1194</th>
      <td>0</td>
      <td>29</td>
      <td>2</td>
      <td>469</td>
      <td>Male</td>
      <td>3</td>
      <td>Married</td>
      <td>4649</td>
      <td>No</td>
      <td>14</td>
      <td>4</td>
      <td>4078.0</td>
      <td>sat</td>
      <td>571.0</td>
    </tr>
    <tr>
      <th>1195</th>
      <td>0</td>
      <td>43</td>
      <td>16</td>
      <td>327</td>
      <td>Female</td>
      <td>4</td>
      <td>Married</td>
      <td>16064</td>
      <td>Yes</td>
      <td>22</td>
      <td>22</td>
      <td>13167.0</td>
      <td>sat</td>
      <td>2897.0</td>
    </tr>
  </tbody>
</table>
<p>1196 rows × 14 columns</p>
</div>

### **(3) 열 삭제**

- 뭔가를 삭제할 때는 **항상 조심x100** 해야 합니다.
- 잘못 되었을 때 되돌리기 위한 준비가 필요합니다.

```python
# data를 복사합니다.
data2 = data.copy()
```

#### **1) 열 하나 삭제**

- **drop()** 메소드를 사용해 열을 삭제합니다.
- axis=0: 행 삭제(기본 값) 
- axis=1: 열 삭제
- **inplace=True** 옵션을 지정해야 실제로 반영이 됩니다.
    * False : 삭제한 것 처럼 보여줘(조회!)

```python
# 열 하나 삭제
data2.drop('Income_LY', axis=1, inplace=True)

# 확인
data2.head()
```

<div>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Attr</th>
      <th>Age</th>
      <th>Dist</th>
      <th>EmpNo</th>
      <th>Gen</th>
      <th>JobSat</th>
      <th>Marital</th>
      <th>M_Income</th>
      <th>OT</th>
      <th>PctSalHike</th>
      <th>TotWY</th>
      <th>JobSat2</th>
      <th>Diff_Income</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0</td>
      <td>33</td>
      <td>7</td>
      <td>817</td>
      <td>Male</td>
      <td>3</td>
      <td>Married</td>
      <td>11691</td>
      <td>No</td>
      <td>11</td>
      <td>14</td>
      <td>sat</td>
      <td>1159.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0</td>
      <td>35</td>
      <td>18</td>
      <td>1412</td>
      <td>Male</td>
      <td>4</td>
      <td>Single</td>
      <td>9362</td>
      <td>No</td>
      <td>11</td>
      <td>10</td>
      <td>sat</td>
      <td>928.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0</td>
      <td>42</td>
      <td>6</td>
      <td>1911</td>
      <td>Male</td>
      <td>1</td>
      <td>Married</td>
      <td>13348</td>
      <td>No</td>
      <td>13</td>
      <td>18</td>
      <td>unsat</td>
      <td>1536.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>0</td>
      <td>46</td>
      <td>2</td>
      <td>1204</td>
      <td>Female</td>
      <td>1</td>
      <td>Married</td>
      <td>17048</td>
      <td>No</td>
      <td>23</td>
      <td>28</td>
      <td>unsat</td>
      <td>3188.0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1</td>
      <td>22</td>
      <td>4</td>
      <td>593</td>
      <td>Male</td>
      <td>3</td>
      <td>Single</td>
      <td>3894</td>
      <td>No</td>
      <td>16</td>
      <td>4</td>
      <td>sat</td>
      <td>537.0</td>
    </tr>
  </tbody>
</table>
</div>

#### **2) 여러 열 삭제**

- 삭제할 열을 리스트 형태로 전달해 한 번에 여러 열을 제거할 수 있습니다.

```python
# 열 두 개 삭제
data2.drop(['JobSat2','Diff_Income'], axis=1, inplace=True)

# 확인
data2.head()
```

<div>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Attr</th>
      <th>Age</th>
      <th>Dist</th>
      <th>EmpNo</th>
      <th>Gen</th>
      <th>JobSat</th>
      <th>Marital</th>
      <th>M_Income</th>
      <th>OT</th>
      <th>PctSalHike</th>
      <th>TotWY</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0</td>
      <td>33</td>
      <td>7</td>
      <td>817</td>
      <td>Male</td>
      <td>3</td>
      <td>Married</td>
      <td>11691</td>
      <td>No</td>
      <td>11</td>
      <td>14</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0</td>
      <td>35</td>
      <td>18</td>
      <td>1412</td>
      <td>Male</td>
      <td>4</td>
      <td>Single</td>
      <td>9362</td>
      <td>No</td>
      <td>11</td>
      <td>10</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0</td>
      <td>42</td>
      <td>6</td>
      <td>1911</td>
      <td>Male</td>
      <td>1</td>
      <td>Married</td>
      <td>13348</td>
      <td>No</td>
      <td>13</td>
      <td>18</td>
    </tr>
    <tr>
      <th>3</th>
      <td>0</td>
      <td>46</td>
      <td>2</td>
      <td>1204</td>
      <td>Female</td>
      <td>1</td>
      <td>Married</td>
      <td>17048</td>
      <td>No</td>
      <td>23</td>
      <td>28</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1</td>
      <td>22</td>
      <td>4</td>
      <td>593</td>
      <td>Male</td>
      <td>3</td>
      <td>Single</td>
      <td>3894</td>
      <td>No</td>
      <td>16</td>
      <td>4</td>
    </tr>
  </tbody>
</table>
</div>

> 연습문제

[문1] data2에 대해서 세 열(Gen, PctSalHike, TotWY)을 삭제해 봅시다.

```python
data2.drop(['Gen', 'PctSalHike', 'TotWY'], axis=1, inplace=True)
data2
```

<div>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Attr</th>
      <th>Age</th>
      <th>Dist</th>
      <th>EmpNo</th>
      <th>JobSat</th>
      <th>Marital</th>
      <th>M_Income</th>
      <th>OT</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0</td>
      <td>33</td>
      <td>7</td>
      <td>817</td>
      <td>3</td>
      <td>Married</td>
      <td>11691</td>
      <td>No</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0</td>
      <td>35</td>
      <td>18</td>
      <td>1412</td>
      <td>4</td>
      <td>Single</td>
      <td>9362</td>
      <td>No</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0</td>
      <td>42</td>
      <td>6</td>
      <td>1911</td>
      <td>1</td>
      <td>Married</td>
      <td>13348</td>
      <td>No</td>
    </tr>
    <tr>
      <th>3</th>
      <td>0</td>
      <td>46</td>
      <td>2</td>
      <td>1204</td>
      <td>1</td>
      <td>Married</td>
      <td>17048</td>
      <td>No</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1</td>
      <td>22</td>
      <td>4</td>
      <td>593</td>
      <td>3</td>
      <td>Single</td>
      <td>3894</td>
      <td>No</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>1191</th>
      <td>0</td>
      <td>32</td>
      <td>5</td>
      <td>1555</td>
      <td>2</td>
      <td>Married</td>
      <td>5878</td>
      <td>No</td>
    </tr>
    <tr>
      <th>1192</th>
      <td>0</td>
      <td>27</td>
      <td>19</td>
      <td>1619</td>
      <td>1</td>
      <td>Divorced</td>
      <td>4066</td>
      <td>No</td>
    </tr>
    <tr>
      <th>1193</th>
      <td>0</td>
      <td>29</td>
      <td>9</td>
      <td>1558</td>
      <td>3</td>
      <td>Married</td>
      <td>2451</td>
      <td>No</td>
    </tr>
    <tr>
      <th>1194</th>
      <td>0</td>
      <td>29</td>
      <td>2</td>
      <td>469</td>
      <td>3</td>
      <td>Married</td>
      <td>4649</td>
      <td>No</td>
    </tr>
    <tr>
      <th>1195</th>
      <td>0</td>
      <td>43</td>
      <td>16</td>
      <td>327</td>
      <td>4</td>
      <td>Married</td>
      <td>16064</td>
      <td>Yes</td>
    </tr>
  </tbody>
</table>
<p>1196 rows × 8 columns</p>
</div>

### **(4) 값 변경1**

- 뭔가를 변경할 때도 **항상 조심x100** 해야 합니다.
- 잘못 되었을 때 되돌리기 위한 준비가 필요합니다.

```python
# data를 복사합니다.
data2 = data.copy()
data2.head()
```

<div>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Attr</th>
      <th>Age</th>
      <th>Dist</th>
      <th>EmpNo</th>
      <th>Gen</th>
      <th>JobSat</th>
      <th>Marital</th>
      <th>M_Income</th>
      <th>OT</th>
      <th>PctSalHike</th>
      <th>TotWY</th>
      <th>Income_LY</th>
      <th>JobSat2</th>
      <th>Diff_Income</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0</td>
      <td>33</td>
      <td>7</td>
      <td>817</td>
      <td>Male</td>
      <td>3</td>
      <td>Married</td>
      <td>11691</td>
      <td>No</td>
      <td>11</td>
      <td>14</td>
      <td>10532.0</td>
      <td>sat</td>
      <td>1159.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0</td>
      <td>35</td>
      <td>18</td>
      <td>1412</td>
      <td>Male</td>
      <td>4</td>
      <td>Single</td>
      <td>9362</td>
      <td>No</td>
      <td>11</td>
      <td>10</td>
      <td>8434.0</td>
      <td>sat</td>
      <td>928.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0</td>
      <td>42</td>
      <td>6</td>
      <td>1911</td>
      <td>Male</td>
      <td>1</td>
      <td>Married</td>
      <td>13348</td>
      <td>No</td>
      <td>13</td>
      <td>18</td>
      <td>11812.0</td>
      <td>unsat</td>
      <td>1536.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>0</td>
      <td>46</td>
      <td>2</td>
      <td>1204</td>
      <td>Female</td>
      <td>1</td>
      <td>Married</td>
      <td>17048</td>
      <td>No</td>
      <td>23</td>
      <td>28</td>
      <td>13860.0</td>
      <td>unsat</td>
      <td>3188.0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1</td>
      <td>22</td>
      <td>4</td>
      <td>593</td>
      <td>Male</td>
      <td>3</td>
      <td>Single</td>
      <td>3894</td>
      <td>No</td>
      <td>16</td>
      <td>4</td>
      <td>3357.0</td>
      <td>sat</td>
      <td>537.0</td>
    </tr>
  </tbody>
</table>
</div>

#### **1) 열 전체 값 변경**

```python
# Income_LY의 값을 모두 0로 변경해 봅시다.
data2['Income_LY'] = 0
data2.head()
```

<div>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Attr</th>
      <th>Age</th>
      <th>Dist</th>
      <th>EmpNo</th>
      <th>Gen</th>
      <th>JobSat</th>
      <th>Marital</th>
      <th>M_Income</th>
      <th>OT</th>
      <th>PctSalHike</th>
      <th>TotWY</th>
      <th>Income_LY</th>
      <th>JobSat2</th>
      <th>Diff_Income</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0</td>
      <td>33</td>
      <td>7</td>
      <td>817</td>
      <td>Male</td>
      <td>3</td>
      <td>Married</td>
      <td>11691</td>
      <td>No</td>
      <td>11</td>
      <td>14</td>
      <td>0</td>
      <td>sat</td>
      <td>1159.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0</td>
      <td>35</td>
      <td>18</td>
      <td>1412</td>
      <td>Male</td>
      <td>4</td>
      <td>Single</td>
      <td>9362</td>
      <td>No</td>
      <td>11</td>
      <td>10</td>
      <td>0</td>
      <td>sat</td>
      <td>928.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0</td>
      <td>42</td>
      <td>6</td>
      <td>1911</td>
      <td>Male</td>
      <td>1</td>
      <td>Married</td>
      <td>13348</td>
      <td>No</td>
      <td>13</td>
      <td>18</td>
      <td>0</td>
      <td>unsat</td>
      <td>1536.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>0</td>
      <td>46</td>
      <td>2</td>
      <td>1204</td>
      <td>Female</td>
      <td>1</td>
      <td>Married</td>
      <td>17048</td>
      <td>No</td>
      <td>23</td>
      <td>28</td>
      <td>0</td>
      <td>unsat</td>
      <td>3188.0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1</td>
      <td>22</td>
      <td>4</td>
      <td>593</td>
      <td>Male</td>
      <td>3</td>
      <td>Single</td>
      <td>3894</td>
      <td>No</td>
      <td>16</td>
      <td>4</td>
      <td>0</td>
      <td>sat</td>
      <td>537.0</td>
    </tr>
  </tbody>
</table>
</div>

#### **2) 조건에 의한 값 변경1**

```python
# Diff_Income 의 값이 1000보다 작은 경우, 0로 변경해 봅시다.
data2.loc[data2['Diff_Income'] < 1000, 'Diff_Income'] = 0
data2.head()
```

<div>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Attr</th>
      <th>Age</th>
      <th>Dist</th>
      <th>EmpNo</th>
      <th>Gen</th>
      <th>JobSat</th>
      <th>Marital</th>
      <th>M_Income</th>
      <th>OT</th>
      <th>PctSalHike</th>
      <th>TotWY</th>
      <th>Income_LY</th>
      <th>JobSat2</th>
      <th>Diff_Income</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0</td>
      <td>33</td>
      <td>7</td>
      <td>817</td>
      <td>Male</td>
      <td>3</td>
      <td>Married</td>
      <td>11691</td>
      <td>No</td>
      <td>11</td>
      <td>14</td>
      <td>0</td>
      <td>sat</td>
      <td>1159.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0</td>
      <td>35</td>
      <td>18</td>
      <td>1412</td>
      <td>Male</td>
      <td>4</td>
      <td>Single</td>
      <td>9362</td>
      <td>No</td>
      <td>11</td>
      <td>10</td>
      <td>0</td>
      <td>sat</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0</td>
      <td>42</td>
      <td>6</td>
      <td>1911</td>
      <td>Male</td>
      <td>1</td>
      <td>Married</td>
      <td>13348</td>
      <td>No</td>
      <td>13</td>
      <td>18</td>
      <td>0</td>
      <td>unsat</td>
      <td>1536.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>0</td>
      <td>46</td>
      <td>2</td>
      <td>1204</td>
      <td>Female</td>
      <td>1</td>
      <td>Married</td>
      <td>17048</td>
      <td>No</td>
      <td>23</td>
      <td>28</td>
      <td>0</td>
      <td>unsat</td>
      <td>3188.0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1</td>
      <td>22</td>
      <td>4</td>
      <td>593</td>
      <td>Male</td>
      <td>3</td>
      <td>Single</td>
      <td>3894</td>
      <td>No</td>
      <td>16</td>
      <td>4</td>
      <td>0</td>
      <td>sat</td>
      <td>0.0</td>
    </tr>
  </tbody>
</table>
</div>

#### **3) 조건에 의한 값 변경2(np.where)**

* 이번에는, **np.where**를 이용해봅시다.

```python
# Age가 40보다 많으면 1, 아니면 0으로 바꿔 봅시다.
data2['Age'] = np.where(data2['Age'] > 40, 1, 0)
data2.head()
```

<div>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Attr</th>
      <th>Age</th>
      <th>Dist</th>
      <th>EmpNo</th>
      <th>Gen</th>
      <th>JobSat</th>
      <th>Marital</th>
      <th>M_Income</th>
      <th>OT</th>
      <th>PctSalHike</th>
      <th>TotWY</th>
      <th>Income_LY</th>
      <th>JobSat2</th>
      <th>Diff_Income</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0</td>
      <td>0</td>
      <td>7</td>
      <td>817</td>
      <td>Male</td>
      <td>3</td>
      <td>Married</td>
      <td>11691</td>
      <td>No</td>
      <td>11</td>
      <td>14</td>
      <td>0</td>
      <td>sat</td>
      <td>1159.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0</td>
      <td>0</td>
      <td>18</td>
      <td>1412</td>
      <td>Male</td>
      <td>4</td>
      <td>Single</td>
      <td>9362</td>
      <td>No</td>
      <td>11</td>
      <td>10</td>
      <td>0</td>
      <td>sat</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0</td>
      <td>1</td>
      <td>6</td>
      <td>1911</td>
      <td>Male</td>
      <td>1</td>
      <td>Married</td>
      <td>13348</td>
      <td>No</td>
      <td>13</td>
      <td>18</td>
      <td>0</td>
      <td>unsat</td>
      <td>1536.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>0</td>
      <td>1</td>
      <td>2</td>
      <td>1204</td>
      <td>Female</td>
      <td>1</td>
      <td>Married</td>
      <td>17048</td>
      <td>No</td>
      <td>23</td>
      <td>28</td>
      <td>0</td>
      <td>unsat</td>
      <td>3188.0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1</td>
      <td>0</td>
      <td>4</td>
      <td>593</td>
      <td>Male</td>
      <td>3</td>
      <td>Single</td>
      <td>3894</td>
      <td>No</td>
      <td>16</td>
      <td>4</td>
      <td>0</td>
      <td>sat</td>
      <td>0.0</td>
    </tr>
  </tbody>
</table>
</div>

### **(5) 값 변경2(map, cut)**

```python
# data를 복사합니다.
data2 = data.copy()
data2.head()
```

<div>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Attr</th>
      <th>Age</th>
      <th>Dist</th>
      <th>EmpNo</th>
      <th>Gen</th>
      <th>JobSat</th>
      <th>Marital</th>
      <th>M_Income</th>
      <th>OT</th>
      <th>PctSalHike</th>
      <th>TotWY</th>
      <th>Income_LY</th>
      <th>JobSat2</th>
      <th>Diff_Income</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0</td>
      <td>33</td>
      <td>7</td>
      <td>817</td>
      <td>Male</td>
      <td>3</td>
      <td>Married</td>
      <td>11691</td>
      <td>No</td>
      <td>11</td>
      <td>14</td>
      <td>10532.0</td>
      <td>sat</td>
      <td>1159.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0</td>
      <td>35</td>
      <td>18</td>
      <td>1412</td>
      <td>Male</td>
      <td>4</td>
      <td>Single</td>
      <td>9362</td>
      <td>No</td>
      <td>11</td>
      <td>10</td>
      <td>8434.0</td>
      <td>sat</td>
      <td>928.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0</td>
      <td>42</td>
      <td>6</td>
      <td>1911</td>
      <td>Male</td>
      <td>1</td>
      <td>Married</td>
      <td>13348</td>
      <td>No</td>
      <td>13</td>
      <td>18</td>
      <td>11812.0</td>
      <td>unsat</td>
      <td>1536.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>0</td>
      <td>46</td>
      <td>2</td>
      <td>1204</td>
      <td>Female</td>
      <td>1</td>
      <td>Married</td>
      <td>17048</td>
      <td>No</td>
      <td>23</td>
      <td>28</td>
      <td>13860.0</td>
      <td>unsat</td>
      <td>3188.0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1</td>
      <td>22</td>
      <td>4</td>
      <td>593</td>
      <td>Male</td>
      <td>3</td>
      <td>Single</td>
      <td>3894</td>
      <td>No</td>
      <td>16</td>
      <td>4</td>
      <td>3357.0</td>
      <td>sat</td>
      <td>537.0</td>
    </tr>
  </tbody>
</table>
</div>

#### **1) map() 메소드**

- 주로 범주형 값을 다른 값으로 변경
- 다음 구문은 Gen 변수의 Male, Female을 각각 숫자 1, 0으로 변경합니다.

```python
# Male -> 1, Female -> 0
data2['Gen'] = data2['Gen'].map({'Male': 1, 'Female': 0})

# 확인
data2.head()
```

<div>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Attr</th>
      <th>Age</th>
      <th>Dist</th>
      <th>EmpNo</th>
      <th>Gen</th>
      <th>JobSat</th>
      <th>Marital</th>
      <th>M_Income</th>
      <th>OT</th>
      <th>PctSalHike</th>
      <th>TotWY</th>
      <th>Income_LY</th>
      <th>JobSat2</th>
      <th>Diff_Income</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0</td>
      <td>33</td>
      <td>7</td>
      <td>817</td>
      <td>1</td>
      <td>3</td>
      <td>Married</td>
      <td>11691</td>
      <td>No</td>
      <td>11</td>
      <td>14</td>
      <td>10532.0</td>
      <td>sat</td>
      <td>1159.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0</td>
      <td>35</td>
      <td>18</td>
      <td>1412</td>
      <td>1</td>
      <td>4</td>
      <td>Single</td>
      <td>9362</td>
      <td>No</td>
      <td>11</td>
      <td>10</td>
      <td>8434.0</td>
      <td>sat</td>
      <td>928.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0</td>
      <td>42</td>
      <td>6</td>
      <td>1911</td>
      <td>1</td>
      <td>1</td>
      <td>Married</td>
      <td>13348</td>
      <td>No</td>
      <td>13</td>
      <td>18</td>
      <td>11812.0</td>
      <td>unsat</td>
      <td>1536.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>0</td>
      <td>46</td>
      <td>2</td>
      <td>1204</td>
      <td>0</td>
      <td>1</td>
      <td>Married</td>
      <td>17048</td>
      <td>No</td>
      <td>23</td>
      <td>28</td>
      <td>13860.0</td>
      <td>unsat</td>
      <td>3188.0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1</td>
      <td>22</td>
      <td>4</td>
      <td>593</td>
      <td>1</td>
      <td>3</td>
      <td>Single</td>
      <td>3894</td>
      <td>No</td>
      <td>16</td>
      <td>4</td>
      <td>3357.0</td>
      <td>sat</td>
      <td>537.0</td>
    </tr>
  </tbody>
</table>
</div>

#### **2) cut()**

- **pd.cut()** 함수를 이용하여, 숫자형 변수를 범주형 변수로 변환할 수 있습니다.
    * 사례 : 나이 >> 나이대, 고객 구매액 >> 고객 등급
- 다음 구문은 나이를 나이대로 변경하는 구문입니다.

```python
data2['Age'].describe()
```

<pre>
count    1196.00000
mean       36.94398
std         9.09270
min        18.00000
25%        30.00000
50%        36.00000
75%        43.00000
max        60.00000
Name: Age, dtype: float64
</pre>

* 전체 범위 균등 분할하기
    * 값의 범위를 균등 분할하는 것이지, 값의 개수를 균등하게 맞추는 것은 아님!

```python
#  3등분으로 분할
# (는 <, ]는 <=를 의미
age_group = pd.cut(data2['Age'], 3)
age_group.value_counts()
```

<pre>
Age
(32.0, 46.0]      590
(17.958, 32.0]    413
(46.0, 60.0]      193
Name: count, dtype: int64
</pre>

* 분할된 범주에 이름 붙이기

```python
#  3등분으로 분할 후 a,b,c로 이름 붙이기
age_group = pd.cut(data2['Age'], 3, labels = ['a','b','c'])
age_group.value_counts()
```

<pre>
Age
b    590
a    413
c    193
Name: count, dtype: int64
</pre>

* 내가 원하는 구간으로 자르기 : bins = [    ]

```python
# 나이를 다음 구간으로 분할합니다.
# 'young'  : =< 40 
# 'junior' : 40 <   =< 50
# 'senior' : 50 < 

age_group = pd.cut(data2['Age'], bins = [0, 40, 50, 100] , labels = ['young','junior','senior'])
age_group.value_counts()
```

<pre>
Age
young     820
junior    262
senior    114
Name: count, dtype: int64
</pre>

> 연습문제

[문1] data2의 Marital 열의 값 Single, Married, Divorced를 각각 숫자 0,1,2로 변경하세요. (.map 사용)

```python
map_labels = {'Single': 0, 'Married': 1, 'Divorced': 2}
# data2['Marital'] = data2['Marital'].map({'Single': 0, 'Married': 1, 'Divorced': 2})
data2['Marital'] = data2['Marital'].map(map_labels)
data2.tail()
```

<div>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Attr</th>
      <th>Age</th>
      <th>Dist</th>
      <th>EmpNo</th>
      <th>Gen</th>
      <th>JobSat</th>
      <th>Marital</th>
      <th>M_Income</th>
      <th>OT</th>
      <th>PctSalHike</th>
      <th>TotWY</th>
      <th>Income_LY</th>
      <th>JobSat2</th>
      <th>Diff_Income</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1191</th>
      <td>0</td>
      <td>32</td>
      <td>5</td>
      <td>1555</td>
      <td>0</td>
      <td>2</td>
      <td>1</td>
      <td>5878</td>
      <td>No</td>
      <td>12</td>
      <td>12</td>
      <td>5248.0</td>
      <td>unsat</td>
      <td>630.0</td>
    </tr>
    <tr>
      <th>1192</th>
      <td>0</td>
      <td>27</td>
      <td>19</td>
      <td>1619</td>
      <td>1</td>
      <td>1</td>
      <td>2</td>
      <td>4066</td>
      <td>No</td>
      <td>11</td>
      <td>7</td>
      <td>3663.0</td>
      <td>unsat</td>
      <td>403.0</td>
    </tr>
    <tr>
      <th>1193</th>
      <td>0</td>
      <td>29</td>
      <td>9</td>
      <td>1558</td>
      <td>1</td>
      <td>3</td>
      <td>1</td>
      <td>2451</td>
      <td>No</td>
      <td>18</td>
      <td>5</td>
      <td>2077.0</td>
      <td>sat</td>
      <td>374.0</td>
    </tr>
    <tr>
      <th>1194</th>
      <td>0</td>
      <td>29</td>
      <td>2</td>
      <td>469</td>
      <td>1</td>
      <td>3</td>
      <td>1</td>
      <td>4649</td>
      <td>No</td>
      <td>14</td>
      <td>4</td>
      <td>4078.0</td>
      <td>sat</td>
      <td>571.0</td>
    </tr>
    <tr>
      <th>1195</th>
      <td>0</td>
      <td>43</td>
      <td>16</td>
      <td>327</td>
      <td>0</td>
      <td>4</td>
      <td>1</td>
      <td>16064</td>
      <td>Yes</td>
      <td>22</td>
      <td>22</td>
      <td>13167.0</td>
      <td>sat</td>
      <td>2897.0</td>
    </tr>
  </tbody>
</table>
</div>

[문2] data2의 PctSalHike 열에 대해서 다음의 범주로 분할하시오.

* 'L' : =< 13
* 'M' : 13 < =< 18
* 'H' : 18 < 

```python
pct_sal_hike_group = pd.cut(data2['PctSalHike'], bins=[-np.inf, 13, 18, np.inf], labels=['L', 'M', 'H'])
pct_sal_hike_group
```

<pre>
0       L
1       L
2       L
3       H
4       M
       ..
1191    L
1192    L
1193    M
1194    M
1195    H
Name: PctSalHike, Length: 1196, dtype: category
Categories (3, object): ['L' < 'M' < 'H']
</pre>

## **3.복습문제**

1) pandas 라이브러리를 불러오세요.

```python
# 라이브러리 불러오기
import pandas as pd
```

2) 다음 경로의 파일을 읽어 titanic 데이터프레임을 만드세요.

- 파일 'https://bit.ly/TitanicFile'

**[titanic 데이터 셋 정보]**

- Survived: 생존여부(1=Yes, 0=No)
- Pclass: 객실등급(1=1st, 2=2nd, 3=3rd)
- Sex: 성별(male, female)
- Age: 나이
- Sibsp: 탑승한 형제자매, 배우자 수
- Parch: 탑승한 자녀, 부모 수
- Ticket: 티켓 번호
- Fare: 요금
- Cabin: 객실 번호
- Embarked: 출발한 항구((C=Cherbourg, Q=Queenstown, S=Southampton)

```python
# 파일 읽어오기
url = 'https://bit.ly/TitanicFile'
titanic = pd.read_csv(url)
```

3) 상위 5개 행을 확인하세요.

```python
# 상위 5개 확인
titanic.head(5)
```

<div>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>PassengerId</th>
      <th>Survived</th>
      <th>Pclass</th>
      <th>Name</th>
      <th>Sex</th>
      <th>Age</th>
      <th>SibSp</th>
      <th>Parch</th>
      <th>Ticket</th>
      <th>Fare</th>
      <th>Cabin</th>
      <th>Embarked</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>0</td>
      <td>3</td>
      <td>Braund, Mr. Owen Harris</td>
      <td>male</td>
      <td>22.0</td>
      <td>1</td>
      <td>0</td>
      <td>A/5 21171</td>
      <td>7.2500</td>
      <td>NaN</td>
      <td>S</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2</td>
      <td>1</td>
      <td>1</td>
      <td>Cumings, Mrs. John Bradley (Florence Briggs Th...</td>
      <td>female</td>
      <td>38.0</td>
      <td>1</td>
      <td>0</td>
      <td>PC 17599</td>
      <td>71.2833</td>
      <td>C85</td>
      <td>C</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3</td>
      <td>1</td>
      <td>3</td>
      <td>Heikkinen, Miss. Laina</td>
      <td>female</td>
      <td>26.0</td>
      <td>0</td>
      <td>0</td>
      <td>STON/O2. 3101282</td>
      <td>7.9250</td>
      <td>NaN</td>
      <td>S</td>
    </tr>
    <tr>
      <th>3</th>
      <td>4</td>
      <td>1</td>
      <td>1</td>
      <td>Futrelle, Mrs. Jacques Heath (Lily May Peel)</td>
      <td>female</td>
      <td>35.0</td>
      <td>1</td>
      <td>0</td>
      <td>113803</td>
      <td>53.1000</td>
      <td>C123</td>
      <td>S</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5</td>
      <td>0</td>
      <td>3</td>
      <td>Allen, Mr. William Henry</td>
      <td>male</td>
      <td>35.0</td>
      <td>0</td>
      <td>0</td>
      <td>373450</td>
      <td>8.0500</td>
      <td>NaN</td>
      <td>S</td>
    </tr>
  </tbody>
</table>
</div>

4) 다음 요구사항에 맞게 하나의 코드셀에 순서대로 구문을 작성하고 확인하세요.

- 4-1) PassengerId, Name, Ticket, Cabin 열을 한 번에 삭제하세요.
- 4-2) Sex 열 이름을 Male로 변경하세요.
- 4-3) Male 열 값을 'male'은 1, 'female'은 0으로 변경하세요.
- 4-4) SibSp 열과 Parch 열의 값을 더한 결과를 갖는 Family 열을 추가하세요.
- 4-5) SibSp, Parch 두 열을 삭제하세요.
- 4-6) 결과를 확인하세요.

```python
# 4-1) PassengerId, Name, Ticket, Cabin 열 삭제
titanic.drop(['PassengerId', 'Name', 'Ticket', 'Cabin'], axis=1, inplace=True)

# 4-2) 열 이름 변경: Sex --> Male
titanic.rename(columns={'Sex': 'Male'}, inplace=True)

# 4-3) Male 열 값 변경: male --> 1, female --> 0
titanic['Male'] = np.where(titanic['Male'] == 'male', 1, 0)

# 4-4) Family = SibSp + Parch
titanic['Family'] = titanic['SibSp'] + titanic['Parch']

# 4-5) SibSp, Parch 열 삭제
titanic.drop(['SibSp', 'Parch'], axis=1, inplace=True)

# 4-6) 확인
titanic.head(5)
```

<div>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Survived</th>
      <th>Pclass</th>
      <th>Male</th>
      <th>Age</th>
      <th>Fare</th>
      <th>Embarked</th>
      <th>Family</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0</td>
      <td>3</td>
      <td>1</td>
      <td>22.0</td>
      <td>7.2500</td>
      <td>S</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>38.0</td>
      <td>71.2833</td>
      <td>C</td>
      <td>1</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1</td>
      <td>3</td>
      <td>0</td>
      <td>26.0</td>
      <td>7.9250</td>
      <td>S</td>
      <td>0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>35.0</td>
      <td>53.1000</td>
      <td>S</td>
      <td>1</td>
    </tr>
    <tr>
      <th>4</th>
      <td>0</td>
      <td>3</td>
      <td>1</td>
      <td>35.0</td>
      <td>8.0500</td>
      <td>S</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
</div>

5) 나이를 연령대로 구분하고자 합니다. 아래 조건의 값을 갖도록 변수를 추가하세요.

* 0<= <10 : '유아'
* 10<= <20 : 10대
* 20<= <30 : 20대
* 30<= <40 : 30대
* 40<= <50 : 40대
* 50<= <60 : 50대
* 60<= <70 : 60대
* 70<= <80 : 70대
* 80<=     : 80대

> 값의 범위 중 오른쪽(큰값)이 아닌 왼쪽(작은값)이 포함되도록 하려면 pd.cut 함수 옵션에 right = False 라고 지정해야 합니다.  

https://pandas.pydata.org/docs/reference/api/pandas.cut.html

```python
age_group = pd.cut(titanic['Age'], bins=[0, 10, 20, 30, 40, 50, 60, 70, 80, np.inf], 
                   labels=['유아', '10대', '20대', '30대', '40대', '50대', '60대', '70대', '80대'], 
                  right=False)
age_group
```

<pre>
0      20대
1      30대
2      20대
3      30대
4      30대
      ... 
886    20대
887    10대
888    NaN
889    20대
890    30대
Name: Age, Length: 891, dtype: category
Categories (9, object): ['유아' < '10대' < '20대' < '30대' ... '50대' < '60대' < '70대' < '80대']
</pre>

```python
titanic['AgeGroup'] = age_group
```

```python
titanic
```

<div>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Survived</th>
      <th>Pclass</th>
      <th>Male</th>
      <th>Age</th>
      <th>Fare</th>
      <th>Embarked</th>
      <th>Family</th>
      <th>AgeGroup</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0</td>
      <td>3</td>
      <td>1</td>
      <td>22.0</td>
      <td>7.2500</td>
      <td>S</td>
      <td>1</td>
      <td>20대</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>38.0</td>
      <td>71.2833</td>
      <td>C</td>
      <td>1</td>
      <td>30대</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1</td>
      <td>3</td>
      <td>0</td>
      <td>26.0</td>
      <td>7.9250</td>
      <td>S</td>
      <td>0</td>
      <td>20대</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>35.0</td>
      <td>53.1000</td>
      <td>S</td>
      <td>1</td>
      <td>30대</td>
    </tr>
    <tr>
      <th>4</th>
      <td>0</td>
      <td>3</td>
      <td>1</td>
      <td>35.0</td>
      <td>8.0500</td>
      <td>S</td>
      <td>0</td>
      <td>30대</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>886</th>
      <td>0</td>
      <td>2</td>
      <td>1</td>
      <td>27.0</td>
      <td>13.0000</td>
      <td>S</td>
      <td>0</td>
      <td>20대</td>
    </tr>
    <tr>
      <th>887</th>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>19.0</td>
      <td>30.0000</td>
      <td>S</td>
      <td>0</td>
      <td>10대</td>
    </tr>
    <tr>
      <th>888</th>
      <td>0</td>
      <td>3</td>
      <td>0</td>
      <td>NaN</td>
      <td>23.4500</td>
      <td>S</td>
      <td>3</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>889</th>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>26.0</td>
      <td>30.0000</td>
      <td>C</td>
      <td>0</td>
      <td>20대</td>
    </tr>
    <tr>
      <th>890</th>
      <td>0</td>
      <td>3</td>
      <td>1</td>
      <td>32.0</td>
      <td>7.7500</td>
      <td>Q</td>
      <td>0</td>
      <td>30대</td>
    </tr>
  </tbody>
</table>
<p>891 rows × 8 columns</p>
</div>

## 요약

- 열 추가
  - [새로운 열] 이름에 값을 지정
- 열 삭제
  - df.drop('열이름', axis=1)
- 값 변경하기
  - 열 전체 값 변경하기
  - 조건절에 의한 변경
  - np.where 활용하기
- 기존 값을 다른 값으로 매핑
  - .map({'기존값':'새값'})
- 숫자형에서 범주형으로 변환
  - pd.cut(숫자형변수, 분할방식, 범주값)
