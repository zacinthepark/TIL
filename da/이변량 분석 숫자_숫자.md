# **ì´ë³€ëŸ‰ë¶„ì„ : ìˆ«ì vs ìˆ«ì**

* Focus: **ì§ì„ (Linearity)**
    * ì–¼ë§ˆë‚˜ ì§ì„ ìœ¼ë¡œ ì˜ ì„¤ëª…í•  ìˆ˜ ìˆëŠ”ê°€?
    * ì–¼ë§ˆë‚˜ ì§ì„ ì— ì ë“¤ì´ ëª¨ì—¬ ìˆëŠ”ê°€?

1. ì‚°ì ë„ Scatter

* ë‘ ìˆ«ìí˜• ë³€ìˆ˜ì˜ ê´€ê³„ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ê·¸ë˜í”„
* ì ì„ ì°ì€ ê·¸ë˜í”„ë¡œ ê´€ê³„ í™•ì¸
* ì§ì„ ì˜ ê´€ê³„ë¥¼ í™•ì¸í•˜ì§€ë§Œ, ì§ì„ ì´ ì•„ë‹Œ ê´€ê³„(íŒ¨í„´)ë„ í™•ì¸

2. ê³µë¶„ì‚° covariance, ìƒê´€ê³„ìˆ˜ correlation efficient

* ê° ì ë“¤ì´ ì–¼ë§ˆë‚˜ **ì§ì„ ** ì— ëª¨ì—¬ ìˆëŠ”ì§€ë¥¼ ê³„ì‚°
* ìš°ë¦¬ê°€ ì‚¬ìš©í•˜ëŠ” ë„êµ¬ëŠ”
    * ë‘ ë³€ìˆ˜ì™€ì˜ ê´€ê³„ë¥¼ ì‚´í´ë³´ê¸° ìœ„í•´, ë‘ ê°€ì§€ ë„êµ¬(ì‹œê°í™”, ìˆ˜ì¹˜í™”)ë¥¼ ì´ìš©í•©ë‹ˆë‹¤.
    * ì´ ë„êµ¬ë“¤ë„ ê°ê° í•œê³„ê°€ ìˆìŠµë‹ˆë‹¤. ë³´ì´ëŠ”ê²Œ ì „ë¶€ê°€ ì•„ë‹˜ì„ ê¼­ ëª…ì‹¬í•˜ì„¸ìš”.
    * íŠ¹íˆ ìˆ˜ì¹˜í™” ë„êµ¬(ê°€ì„¤ê²€ì • ë„êµ¬)ëŠ” ë§ì€ ê°€ì •ë“¤ì´ ì „ì œ ë©ë‹ˆë‹¤.
    * ì´ë²ˆì—ëŠ” ê·¸ ë„êµ¬ë¥¼ ì‚¬ìš©í•˜ëŠ” ë°ì— ì§‘ì¤‘í•©ë‹ˆë‹¤.

## **1.í™˜ê²½ì¤€ë¹„**

* ë¼ì´ë¸ŒëŸ¬ë¦¬ ë¶ˆëŸ¬ì˜¤ê¸°

```python
import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
import seaborn as sns
```

* ë°ì´í„° ë¶ˆëŸ¬ì˜¤ê¸° : ë‹¤ìŒì˜ ì˜ˆì œ ë°ì´í„°ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.

> â‘  íƒ€ì´íƒ€ë‹‰ ìƒì¡´ì  

> â‘¡ ë‰´ìš• ê³µê¸° ì˜¤ì—¼ë„

```python
# íƒ€ì´íƒ€ë‹‰ ë°ì´í„°
titanic = pd.read_csv('https://raw.githubusercontent.com/DA4BAM/dataset/master/titanic.0.csv')
titanic.head()
```

<div>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>PassengerId</th>
      <th>Survived</th>
      <th>Pclass</th>
      <th>Name</th>
      <th>Sex</th>
      <th>Age</th>
      <th>SibSp</th>
      <th>Parch</th>
      <th>Ticket</th>
      <th>Fare</th>
      <th>Cabin</th>
      <th>Embarked</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>0</td>
      <td>3</td>
      <td>Braund, Mr. Owen Harris</td>
      <td>male</td>
      <td>22.0</td>
      <td>1</td>
      <td>0</td>
      <td>A/5 21171</td>
      <td>7.2500</td>
      <td>NaN</td>
      <td>S</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2</td>
      <td>1</td>
      <td>1</td>
      <td>Cumings, Mrs. John Bradley (Florence Briggs Th...</td>
      <td>female</td>
      <td>38.0</td>
      <td>1</td>
      <td>0</td>
      <td>PC 17599</td>
      <td>71.2833</td>
      <td>C85</td>
      <td>C</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3</td>
      <td>1</td>
      <td>3</td>
      <td>Heikkinen, Miss. Laina</td>
      <td>female</td>
      <td>26.0</td>
      <td>0</td>
      <td>0</td>
      <td>STON/O2. 3101282</td>
      <td>7.9250</td>
      <td>NaN</td>
      <td>S</td>
    </tr>
    <tr>
      <th>3</th>
      <td>4</td>
      <td>1</td>
      <td>1</td>
      <td>Futrelle, Mrs. Jacques Heath (Lily May Peel)</td>
      <td>female</td>
      <td>35.0</td>
      <td>1</td>
      <td>0</td>
      <td>113803</td>
      <td>53.1000</td>
      <td>C123</td>
      <td>S</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5</td>
      <td>0</td>
      <td>3</td>
      <td>Allen, Mr. William Henry</td>
      <td>male</td>
      <td>35.0</td>
      <td>0</td>
      <td>0</td>
      <td>373450</td>
      <td>8.0500</td>
      <td>NaN</td>
      <td>S</td>
    </tr>
  </tbody>
</table>
</div>

```python
# ë‰´ìš•ì‹œ ê³µê¸° ì˜¤ì—¼ë„ ë°ì´í„°
air = pd.read_csv('https://raw.githubusercontent.com/DA4BAM/dataset/master/air2.csv')
air['Date'] = pd.to_datetime(air['Date'])
air.head()
```

<div>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Ozone</th>
      <th>Solar.R</th>
      <th>Wind</th>
      <th>Temp</th>
      <th>Date</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>41</td>
      <td>190.0</td>
      <td>7.4</td>
      <td>67</td>
      <td>1973-05-01</td>
    </tr>
    <tr>
      <th>1</th>
      <td>36</td>
      <td>118.0</td>
      <td>8.0</td>
      <td>72</td>
      <td>1973-05-02</td>
    </tr>
    <tr>
      <th>2</th>
      <td>12</td>
      <td>149.0</td>
      <td>12.6</td>
      <td>74</td>
      <td>1973-05-03</td>
    </tr>
    <tr>
      <th>3</th>
      <td>18</td>
      <td>313.0</td>
      <td>11.5</td>
      <td>62</td>
      <td>1973-05-04</td>
    </tr>
    <tr>
      <th>4</th>
      <td>19</td>
      <td>NaN</td>
      <td>14.3</td>
      <td>56</td>
      <td>1973-05-05</td>
    </tr>
  </tbody>
</table>
</div>

----

## **2.ì‹œê°í™” : ì‚°ì ë„**

* ìƒê´€ ë¶„ì„ì— ëŒ€í•´ì„œ ì´ì•¼ê¸° í•´ë´…ì‹œë‹¤.
    * ìƒê´€ ë¶„ì„ì€ ì—°ì†í˜• ë³€ìˆ˜ Xì— ëŒ€í•œ ì—°ì†í˜• ë³€ìˆ˜ Yì˜ ê´€ê³„ë¥¼ ë¶„ì„í•  ë•Œ ì‚¬ìš©ë©ë‹ˆë‹¤.
    * Scatterë¥¼ í†µí•´ ì‹œê°í™” í•©ë‹ˆë‹¤.

* ê°€ì„¤ : ì˜¨ë„(x)ê°€ ìƒìŠ¹í•˜ë©´ ì•„ì´ìŠ¤í¬ë¦¼ íŒë§¤ëŸ‰(y)ì„ ì¦ê°€í• ê¹Œ?
    * ì–´ë–¤ ê´€ê³„ê°€ ë³´ì´ë‚˜ìš”?
    * ì–¼ë§ˆë‚˜ ê°•í•œ ê´€ê³„ì¸ê°€ìš”?

* ìˆ«ì vs ìˆ«ìë¥¼ ë¹„êµí•  ë•Œ ì¤‘ìš”í•œ ê´€ì ì´ **'ì§ì„ '(Linearity)** ì…ë‹ˆë‹¤.

<img src='https://github.com/DA4BAM/image/blob/main/%EC%82%B0%EC%A0%90%EB%8F%84_ex.png?raw=true' width=500/>

### **(1) ì‚°ì ë„**

* ë¬¸ë²•
    * plt.scatter( xì¶• ê°’, yì¶• ê°’ )
    * plt.scatter( â€˜xë³€ìˆ˜â€™, â€˜yë³€ìˆ˜â€™, data = dataframeì´ë¦„) 

```python
plt.scatter(air['Temp'], air['Ozone'])
plt.show()
```

![z_240229_2_2_1](https://github.com/zacinthepark/TIL/assets/86648892/61fbce62-cdd9-446b-8e14-90634058eb90)

```python
plt.scatter('Temp', 'Ozone', data=air)
plt.show()
```

![z_240229_2_2_2](https://github.com/zacinthepark/TIL/assets/86648892/e4e0f43c-40c0-4afd-970b-c410d25a0cc1)

```python
sns.scatterplot(x='Temp', y='Ozone', data=air)
plt.show()
```

![z_240229_2_2_3](https://github.com/zacinthepark/TIL/assets/86648892/e012d67a-9d78-495d-9275-f2a90b64a09f)

ê·¸ë˜í”„ë¥¼ ê·¸ë ¸ìœ¼ë©´, ê·¸ë˜í”„ë¡œë¶€í„° ì •ë³´ë¥¼ íŒŒì•…í•´ì•¼ í•©ë‹ˆë‹¤.

> ì—°ìŠµë¬¸ì œ

* [ë¬¸1] Temp, Wind, Solar.R ê³¼ Ozone ê³¼ì˜ ê´€ê³„ë¥¼ ì‹œê°í™” í•´ ë´…ì‹œë‹¤.

```python
# ê·¸ë˜í”„ í‹€ ì „ì²´ í¬ê¸°
plt.figure(figsize=(12, 3))

# ê·¸ë˜í”„ 1í–‰ 3ì—´ë¡œ ê·¸ë¦¬ê¸°
plt.subplot(1, 3, 1)
sns.scatterplot(x='Temp', y='Ozone', data=air)
plt.grid()

plt.subplot(1, 3, 2)
sns.scatterplot(x='Wind', y='Ozone', data=air)
plt.grid()

plt.subplot(1, 3, 3)
sns.scatterplot(x='Solar.R', y='Ozone', data=air)
plt.grid()

plt.show()
```

![z_240229_2_2_4](https://github.com/zacinthepark/TIL/assets/86648892/7b6bff3b-a369-420d-b4df-a5f79eec15fb)

* [ë¬¸2] Ozoneê³¼ ê°€ì¥ ê°•í•œ ê´€ê³„ì˜ xë³€ìˆ˜ëŠ”?

- ì§ì„ ì— ì–¼ë§ˆë‚˜ ëª¨ì—¬ìˆëŠ”ê°€ì— ë”°ë¼ íŒë‹¨

* ë‘ ë³€ìˆ˜ì˜ ê´€ê³„
    * ì‚°ì ë„ì—ì„œ ë˜ë ·í•œ íŒ¨í„´ì´ ë³´ì¸ë‹¤ë©´, ê°•í•œ ê´€ê³„ë¡œ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
    * íŠ¹íˆ, ì§ì„ ì˜ íŒ¨í„´ì´ ë³´ì¸ë‹¤ë©´

<img src='https://cqeacademy.com/wp-content/uploads/2018/06/Scatter-Plots-and-Correlation-Examples.png' width=800/>

### **(2) pairplot í•œêº¼ë²ˆì— ì‹œê°í™”**

* ìˆ«ìí˜• ë³€ìˆ˜ë“¤ì— ëŒ€í•œ ì‚°ì ë„ë¥¼ í•œêº¼ë²ˆì— ê·¸ë ¤ì¤ë‹ˆë‹¤.
* ê·¸ëŸ¬ë‚˜ **ì‹œê°„ì´ ë§ì´** ê±¸ë¦½ë‹ˆë‹¤.

```python
sns.pairplot(air)
plt.show()
```

![z_240229_2_2_5](https://github.com/zacinthepark/TIL/assets/86648892/622f0665-fcac-4f56-a501-ae7efe83a1d3)

###  **(3) (ì¶”ê°€) jointplot, regplot**

* jointplotì€ ì‚°ì ë„ì™€ ê°ê°ì˜ íˆìŠ¤í† ê·¸ë¨ì„ í•¨ê»˜ ë³´ì—¬ì¤ë‹ˆë‹¤.

* Temp --> Ozone

```python
sns.jointplot(x='Temp', y='Ozone', data=air)
plt.show()
```

![z_240229_2_2_6](https://github.com/zacinthepark/TIL/assets/86648892/8bf80ee7-2c77-4900-9f22-a2e1b6c713ba)

* Wind --> Ozone

```python
sns.jointplot(x='Wind', y='Ozone', data=air)
plt.show()
```

![z_240229_2_2_7](https://github.com/zacinthepark/TIL/assets/86648892/1a712af8-db71-41c2-ad15-3a88bc3471fc)

* Solar.R --> Ozone

```python
sns.jointplot(x='Solar.R', y='Ozone', data=air)
plt.show()
```

![z_240229_2_2_8](https://github.com/zacinthepark/TIL/assets/86648892/1560d627-14ce-41ee-8cc8-0ba99f176673)

```python
sns.regplot(x='Solar.R', y='Ozone', data=air)
plt.show()
```

![z_240229_2_2_9](https://github.com/zacinthepark/TIL/assets/86648892/3e1f8cb3-7d3f-4ad3-9957-1f0639be35ff)

## **3.ìˆ˜ì¹˜í™” : ìƒê´€ë¶„ì„**

### (1) ìƒê´€ê³„ìˆ˜, p-value

- ê´€ê³„ë¥¼ ìˆ˜ì¹˜í™”í•œ ê²ƒì´ **ìƒê´€ê³„ìˆ˜ (correlation efficient)**
- ìƒê´€ê³„ìˆ˜ê°€ ìœ ì˜ë¯¸í•œì§€ë¥¼ ê²€ì •(test)í•˜ëŠ” ê²ƒì´ **ìƒê´€ë¶„ì„**

* ìƒê´€ê³„ìˆ˜ **ğ‘Ÿ**

    * ê³µë¶„ì‚°ì„ í‘œì¤€í™”í•œ ê°’
    * -1 ~ 1 ì‚¬ì´ì˜ ê°’
    * ìƒê´€ê³„ìˆ˜ë¼ë¦¬ ë¹„êµ ê°€ëŠ¥
    * -1, 1ì— ê°€ê¹Œìš¸ ìˆ˜ë¡ ê°•í•œ ìƒê´€ê´€ê³„ë¥¼ ë‚˜íƒ€ëƒ„

* ê²½í—˜ì— ì˜í•œ ëŒ€ëµì˜ ê¸°ì¤€(ì ˆëŒ€ì ì¸ ê¸°ì¤€ì´ ì ˆëŒ€ ì•„ë‹˜)

    * ê°•í•œ : 0.5 < |ğ‘Ÿ| â‰¤ 1
    * ì¤‘ê°„ : 0.2 < |ğ‘Ÿ| â‰¤ 0.5
    * ì•½í•œ : 0.1 < |ğ‘Ÿ| â‰¤ 0.2
    * (ê±°ì˜)ì—†ìŒ : |ğ‘Ÿ| â‰¤ 0.1

### ì°¸ì¡°: ìƒê´€ê³„ìˆ˜ ê³µì‹

![corr_1](https://github.com/zacinthepark/TIL/assets/86648892/5b46a3cf-1727-44de-9aa9-3d515b4a3e11)

### ìƒê´€ê³„ìˆ˜ì˜ ìœ ì˜ì„± ê²€ì •

- ìƒê´€ê³„ìˆ˜ì˜ í¬ê¸°ë¡œ íŒë‹¨í•  ìˆ˜ ìˆì§€ë§Œ
- ìƒê´€ë¶„ì„ì„ í†µí•´ì„œ ê²€ì •(test)í•  ìˆ˜ë„ ìˆìŒ

### scipy.stats ëª¨ë“ˆ

- í†µê³„ ëª¨ë“ˆ
- spst.pearsonr (í”¼ì–´ìŠ¨) ìƒê´€ë¶„ì„ í•¨ìˆ˜
    - ì£¼ì˜: NaNì´ ìˆìœ¼ë©´ ê³„ì‚°ë˜ì§€ ì•ŠìŒ
    - NaNì„ ë¹¼ê³ (.notnull()) ê³„ì‚°í•´ì•¼í•¨
    - ê²°ê³¼: (**ìƒê´€ê³„ìˆ˜**, **p-value**) <-- tuple í˜•íƒœ
- ê´€ê³„ë¥¼ ìˆ˜ì¹˜í™”í•œ ê°’, ì—¬ê¸°ì„œëŠ” ìƒê´€ê³„ìˆ˜ì˜ ë¶„í¬ì—ì„œ ìƒê´€ê³„ìˆ˜ê°€ **ìœ ì˜ë¯¸í•œì§€** íŒë‹¨í•˜ëŠ” ìˆ«ìê°€ **p-value** (ìœ ì˜í™•ë¥ )

### df.corr()

- ë°ì´í„°í”„ë ˆì„ìœ¼ë¡œë¶€í„° í•œêº¼ë²ˆì— ìƒê´€ê³„ìˆ˜ êµ¬í•˜ê¸°
- ëŒ€ê°ì„ ì€ ë¬´ì‹œ
- ëŒ€ê°ì„ ì„ ê¸°ì¤€ìœ¼ë¡œ í•˜ë‚˜ë§Œ ë³´ë©´ë¨
- +, -ëŠ” ë°©í–¥ì„ ë‚˜íƒ€ëƒ„ (ì–‘, ìŒì˜ ê´€ê³„)
- 1 í˜¹ì€ -1ì— ê°€ê¹Œìš¸ìˆ˜ë¡ ê°•í•œ ê´€ê³„

```python
import scipy.stats as spst
```

```python
# ìƒê´€ê³„ìˆ˜ì™€ p-value 
spst.pearsonr(air['Temp'], air['Ozone'])
```

<pre>
PearsonRResult(statistic=0.6833717861490114, pvalue=2.197769800200284e-22)
</pre>

ê²°ê³¼ëŠ” íŠœí”Œë¡œ ë‚˜ì˜¤ëŠ”ë°

1. íŠœí”Œì˜ ì²« ë²ˆì§¸ ê°’ : ìƒê´€ê³„ìˆ˜ë¥¼ ëœ»í•©ë‹ˆë‹¤.

2. ë‘ë²ˆì§¸ ê°’ : p-value

    * ê·€ë¬´ê°€ì„¤ : ìƒê´€ ê´€ê³„ê°€ ì—†ë‹¤.(ìƒê´€ê³„ìˆ˜ê°€ 0ì´ë‹¤.)
    * ëŒ€ë¦½ê°€ì„¤ : ìƒê´€ ê´€ê³„ê°€ ìˆë‹¤.(ìƒê´€ê³„ìˆ˜ê°€ 0ì´ ì•„ë‹ˆë‹¤.)

3. ì£¼ì˜ ì‚¬í•­ : ê°’ì— NaNì´ ìˆìœ¼ë©´ ê³„ì‚°ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ë°˜ë“œì‹œ .notnull()ë¡œ ì œì™¸í•˜ê³  ìˆ˜í–‰í•´ì•¼ í•©ë‹ˆë‹¤.

### **(2) ë°ì´í„°í”„ë ˆì„ í•œêº¼ë²ˆì— ìƒê´€ê³„ìˆ˜ êµ¬í•˜ê¸°**

```python
# ë°ì´í„°í”„ë ˆì„ìœ¼ë¡œ ë¶€í„° ìˆ˜ì¹˜í˜• ë°ì´í„°ì— ëŒ€í•œ ìƒê´€ê³„ìˆ˜ êµ¬í•˜ê¸°
air.corr()
```

<div>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Ozone</th>
      <th>Solar.R</th>
      <th>Wind</th>
      <th>Temp</th>
      <th>Date</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Ozone</th>
      <td>1.000000</td>
      <td>0.280068</td>
      <td>-0.605478</td>
      <td>0.683372</td>
      <td>0.170271</td>
    </tr>
    <tr>
      <th>Solar.R</th>
      <td>0.280068</td>
      <td>1.000000</td>
      <td>-0.056792</td>
      <td>0.275840</td>
      <td>-0.104682</td>
    </tr>
    <tr>
      <th>Wind</th>
      <td>-0.605478</td>
      <td>-0.056792</td>
      <td>1.000000</td>
      <td>-0.457988</td>
      <td>-0.168683</td>
    </tr>
    <tr>
      <th>Temp</th>
      <td>0.683372</td>
      <td>0.275840</td>
      <td>-0.457988</td>
      <td>1.000000</td>
      <td>0.385605</td>
    </tr>
    <tr>
      <th>Date</th>
      <td>0.170271</td>
      <td>-0.104682</td>
      <td>-0.168683</td>
      <td>0.385605</td>
      <td>1.000000</td>
    </tr>
  </tbody>
</table>
</div>

ìœ„ ê²°ê³¼ë¡œ ë¶€í„°

1. ê°™ì€ ë³€ìˆ˜ë¼ë¦¬ êµ¬í•œ ê°’ 1ì€ ì˜ë¯¸ ì—†ìŒ

2. ìƒê´€ê³„ìˆ˜ì˜ ì ˆëŒ€ê°’ì´ 

    * 1ì— ê°€ê¹Œìš¸ ìˆ˜ë¡ ê°•í•œ ìƒê´€ê´€ê³„
    * 0ì— ê°€ê¹Œìš¸ ìˆ˜ë¡ ì•½í•œ ìƒê´€ê´€ê³„

3. +ëŠ” ì–‘ì˜ ìƒê´€ê´€ê³„, -ëŠ” ìŒì˜ ìƒê´€ê´€ê³„

### **(3) (ì¶”ê°€) ìƒê´€ê³„ìˆ˜ë¥¼ heatmapìœ¼ë¡œ ì‹œê°í™”**

```python
plt.figure(figsize=(8, 8))
sns.heatmap(air.corr(), 
            annot=True,            # ìˆ«ì(ìƒê´€ê³„ìˆ˜) í‘œê¸° ì—¬ë¶€
            fmt='.3f',             # ìˆ«ì í¬ë§·: ì†Œìˆ˜ì  3ìë¦¬ê¹Œì§€ í‘œê¸°
            cmap='RdYlBu_r',       # ì¹¼ë¼ë§µ
            vmin=-1, vmax=1)       # ê°’ì˜ ìµœì†Œ, ìµœëŒ€ê°’
plt.show()
```

![z_240229_2_2_10](https://github.com/zacinthepark/TIL/assets/86648892/40b33e7f-22eb-42cf-a9d0-9ba59cdfddfa)

ì¹¼ë¼ë¥¼ ë³€ê²½í•˜ë ¤ë©´ ì•„ë˜ ë§í¬ë¡œ ê°€ì„œ color map ì„ í™•ì¸í•˜ê³  ì¡°ì •í•˜ì„¸ìš”.

cmap(color map) : https://matplotlib.org/stable/tutorials/colors/colormaps.html

### ìƒê´€ê³„ìˆ˜ì˜ í•œê³„

![corr_2](https://github.com/zacinthepark/TIL/assets/86648892/5426c7fb-22fe-4ed4-8be9-dba484afc01c)
![DinoSequentialSmaller](https://github.com/zacinthepark/TIL/assets/86648892/1c992407-ed5d-4536-842a-e6b324555fb8)

- **ìƒê´€ê³„ìˆ˜ëŠ” ì§ì„ ì˜ ê´€ê³„(ì„ í˜•ê´€ê³„)ë§Œ ìˆ˜ì¹˜í™”í•´ì¤Œ**
- ê³ ë ¤í•˜ì§€ ì•ŠëŠ” ë‘ ê°€ì§€: ì§ì„ ì˜ ê¸°ìš¸ê¸°, ë¹„ì„ í˜• ê´€ê³„

> ì—°ìŠµë¬¸ì œ

* ë‹¤ìŒì˜ ë³€ìˆ˜ì— ëŒ€í•´ì„œ ìƒê´€ë¶„ì„ì„ ìˆ˜í–‰í•˜ì‹œì˜¤.

* [ë¬¸1] Temp --> Ozone 

```python
spst.pearsonr(air['Temp'], air['Ozone'])
```

<pre>
PearsonRResult(statistic=0.6833717861490114, pvalue=2.197769800200284e-22)
</pre>

* [ë¬¸2] Wind --> Ozone 

```python
spst.pearsonr(air['Wind'], air['Ozone'])
```

<pre>
PearsonRResult(statistic=-0.6054782354684075, pvalue=1.1255146087637916e-16)
</pre>

* [ë¬¸3] Solar.R --> Ozone 
    * ë‹¨, Solar.R ì—ëŠ” NaNì´ ìˆìŠµë‹ˆë‹¤. NaNì„ ì œì™¸(.notnull())í•˜ê³ , ìƒê´€ë¶„ì„ì„ ìˆ˜í–‰í•˜ì‹œì˜¤.

```python
air.isna().sum()
# isna = isnull
```

<pre>
Ozone      0
Solar.R    7
Wind       0
Temp       0
Date       0
dtype: int64
</pre>

```python
temp = air.loc[air['Solar.R'].notnull()]
```

```python
spst.pearsonr(temp['Solar.R'], temp['Ozone'])
```

<pre>
PearsonRResult(statistic=0.2800681334905377, pvalue=0.0006175878788566504)
</pre>

## **4.ë³µìŠµë¬¸ì œ**

* ë³´ìŠ¤í†¤ ì§‘ê°’ ë°ì´í„°ë¥¼ ì´ìš©í•˜ì—¬ ë‹¤ìŒì˜ ë³µìŠµë¬¸ì œë¥¼ í’€ì–´ ë´…ì‹œë‹¤.

* **ë³€ìˆ˜ì„¤ëª…**

> * **medv**  : 1978 ë³´ìŠ¤í„´ ì£¼íƒ ê°€ê²©, 506ê°œ íƒ€ìš´ì˜ ì£¼íƒ ê°€ê²© ì¤‘ì•™ê°’ (ë‹¨ìœ„ 1,000 ë‹¬ëŸ¬) <== **Target**
> * **crim** :	ë²”ì£„ìœ¨
> * **zn** :	25,000 í‰ë°©í”¼íŠ¸ë¥¼ ì´ˆê³¼ ê±°ì£¼ì§€ì—­ ë¹„ìœ¨
> * **indus** :	ë¹„ì†Œë§¤ìƒì—…ì§€ì—­ ë©´ì  ë¹„ìœ¨
> * **chas** :	ì°°ìŠ¤ê°•ë³€ ìœ„ì¹˜(ë²”ì£¼ : ê°•ë³€1, ì•„ë‹ˆë©´ 0)
> * **nox** :	ì¼ì‚°í™”ì§ˆì†Œ ë†ë„
> * **rm** :	ì£¼íƒë‹¹ ë°© ìˆ˜
> * **age** :	1940ë…„ ì´ì „ì— ê±´ì¶•ëœ ì£¼íƒì˜ ë¹„ìœ¨
> * **dis** :	ì§ì—…ì„¼í„°ì˜ ê±°ë¦¬
> * **rad** :	ë°©ì‚¬í˜• ê³ ì†ë„ë¡œê¹Œì§€ì˜ ê±°ë¦¬
> * **tax** :	ì¬ì‚°ì„¸ìœ¨
> * **ptratio** :	í•™ìƒ/êµì‚¬ ë¹„ìœ¨
> * **lstat** :	ì¸êµ¬ ì¤‘ í•˜ìœ„ ê³„ì¸µ ë¹„ìœ¨

```python
import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
import seaborn as sns

import scipy.stats as spst
```

```python
# ë³´ìŠ¤í†¤ ì§‘ê°’ ë°ì´í„°
# ë¶„ì„ë‹¨ìœ„: íƒ€ìš´ë³„ ë°ì´í„°

boston = pd.read_csv('https://raw.githubusercontent.com/DA4BAM/dataset/master/boston.csv')
boston.head()
```

<div>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>crim</th>
      <th>zn</th>
      <th>indus</th>
      <th>chas</th>
      <th>nox</th>
      <th>rm</th>
      <th>age</th>
      <th>dis</th>
      <th>rad</th>
      <th>tax</th>
      <th>ptratio</th>
      <th>lstat</th>
      <th>medv</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0.00632</td>
      <td>18.0</td>
      <td>2.31</td>
      <td>0</td>
      <td>0.538</td>
      <td>6.575</td>
      <td>65.2</td>
      <td>4.0900</td>
      <td>1</td>
      <td>296</td>
      <td>15.3</td>
      <td>4.98</td>
      <td>24.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0.02731</td>
      <td>0.0</td>
      <td>7.07</td>
      <td>0</td>
      <td>0.469</td>
      <td>6.421</td>
      <td>78.9</td>
      <td>4.9671</td>
      <td>2</td>
      <td>242</td>
      <td>17.8</td>
      <td>9.14</td>
      <td>21.6</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0.02729</td>
      <td>0.0</td>
      <td>7.07</td>
      <td>0</td>
      <td>0.469</td>
      <td>7.185</td>
      <td>61.1</td>
      <td>4.9671</td>
      <td>2</td>
      <td>242</td>
      <td>17.8</td>
      <td>4.03</td>
      <td>34.7</td>
    </tr>
    <tr>
      <th>3</th>
      <td>0.03237</td>
      <td>0.0</td>
      <td>2.18</td>
      <td>0</td>
      <td>0.458</td>
      <td>6.998</td>
      <td>45.8</td>
      <td>6.0622</td>
      <td>3</td>
      <td>222</td>
      <td>18.7</td>
      <td>2.94</td>
      <td>33.4</td>
    </tr>
    <tr>
      <th>4</th>
      <td>0.06905</td>
      <td>0.0</td>
      <td>2.18</td>
      <td>0</td>
      <td>0.458</td>
      <td>7.147</td>
      <td>54.2</td>
      <td>6.0622</td>
      <td>3</td>
      <td>222</td>
      <td>18.7</td>
      <td>5.33</td>
      <td>36.2</td>
    </tr>
  </tbody>
</table>
</div>

* 1) crim(ë²”ì£„ìœ¨) --> mdev(ì§‘ê°’) ì— ëŒ€í•´ ì‹œê°í™”ì™€ ìˆ˜ì¹˜í™”(ìƒê´€ë¶„ì„)ì„ ìˆ˜í–‰í›„ ê´€ê³„ë¥¼ í‰ê°€í•˜ì‹œì˜¤.

```python
sns.scatterplot(x='crim', y='medv', data=boston)
```

![z_240229_2_2_11](https://github.com/zacinthepark/TIL/assets/86648892/ff6e2bfc-fb71-4e48-a704-7e4fd5f98245)

```python
spst.pearsonr(boston['crim'], boston['medv'])
```

<pre>
PearsonRResult(statistic=-0.3883046085868116, pvalue=1.1739870821943826e-19)
</pre>

- ë²”ì£„ìœ¨ì´ ë–¨ì–´ì§ˆìˆ˜ë¡ ì§‘ê°’ì´ ì˜¬ë¼ê°€ëŠ” ìŒì˜ ìƒê´€ê´€ê³„ê°€ ìˆì–´ë³´ì„
- ë²”ì£„ìœ¨ì´ ë‚®ì„ ë•Œ ì§‘ê°’ì˜ ì°¨ì´ëŠ” ì¶”ê°€ì ì¸ ë¶„ì„ í•„ìš”

* 2) tax(ì œì‚°ì„¸ìœ¨) --> mdev(ì§‘ê°’) ì— ëŒ€í•´ ì‹œê°í™”ì™€ ìˆ˜ì¹˜í™”(ìƒê´€ë¶„ì„)ì„ ìˆ˜í–‰í›„ ê´€ê³„ë¥¼ í‰ê°€í•˜ì‹œì˜¤.

```python
sns.scatterplot(x='tax', y='medv', data=boston)
```

![z_240229_2_2_12](https://github.com/zacinthepark/TIL/assets/86648892/01199f55-079f-42a8-b7e9-f4b09c841768)

```python
spst.pearsonr(boston['tax'], boston['medv'])
```

<pre>
PearsonRResult(statistic=-0.4685359335677671, pvalue=5.637733627690444e-29)
</pre>

- ì¬ì‚°ì„¸ê°€ ë†’ì„ìˆ˜ë¡ ì§‘ê°’ì´ ë–¨ì–´ì§€ëŠ” ê²½í–¥ì´ ë³´ì„
- ì¤‘ê°„ì— ëŠê¸´ ë¶€ë¶„ì— ì˜í•´ ì§‘ë‹¨ì´ ë‘˜ì´ ìˆëŠ” ê²ƒìœ¼ë¡œ ë³´ì„
- ì „ì²´ì ìœ¼ë¡œ ë´¤ì„ ë•ŒëŠ” ë²”ì£„ìœ¨ë³´ë‹¤ ê°•í•œ ê´€ê³„ê°€ ìˆëŠ” ê²ƒ ê°™ì€ë°, í™•ì‹ í•  ìˆ˜ëŠ” ì—†ìŒ

* 3) lstat(í•˜ìœ„ê³„ì¸µë¹„ìœ¨) --> mdev(ì§‘ê°’) ì— ëŒ€í•´ ì‹œê°í™”ì™€ ìˆ˜ì¹˜í™”(ìƒê´€ë¶„ì„)ì„ ìˆ˜í–‰í›„ ê´€ê³„ë¥¼ í‰ê°€í•˜ì‹œì˜¤.

```python
sns.scatterplot(x='lstat', y='medv', data=boston)
```

![z_240229_2_2_13](https://github.com/zacinthepark/TIL/assets/86648892/d014acda-e38b-479d-a25f-dd8523debda9)

```python
spst.pearsonr(boston['lstat'], boston['medv'])
```

<pre>
PearsonRResult(statistic=-0.7376627261740148, pvalue=5.081103394387554e-88)
</pre>

- í•˜ìœ„ê³„ì¸µë¹„ìœ¨ì´ ë†’ì„ìˆ˜ë¡ ì§‘ê°’ì´ ë–¨ì–´ì§
- ì¸ê³¼ê´€ê³„ê°€ ì•„ë‹Œ ìƒê´€ê´€ê³„

(ì¶”ê°€) ptratio(êµì‚¬ 1ëª…ë‹¹ í•™ìƒ ìˆ˜) --> medv(ì§‘ê°’) ë¶„ì„

```python
sns.scatterplot(x='ptratio', y='medv', data=boston)
```

![z_240229_2_2_14](https://github.com/zacinthepark/TIL/assets/86648892/6c6e05a7-56c4-4eb2-a14d-dd85b62792f7)

```python
spst.pearsonr(boston['ptratio'], boston['medv'])
```

<pre>
PearsonRResult(statistic=-0.507786685537562, pvalue=1.6095094784727943e-34)
</pre>

- ì§ì„ ì´ ì„ ëª…í•˜ì§€ ì•Šì€ë° ê°•í•œ ìƒê´€ê´€ê³„ë¥¼ ë³´ì„

- **ìˆ˜ì¹˜** í˜• ë°ì´í„° ptratioë¥¼ 0 ~ 14, 14 ~ 20, 20 ~ 22 ì„¸ **ë²”ì£¼** ë¡œ êµ¬ë¶„
    - ë¹„ìŠ·í•œ ë°ì´í„°ë¡œ ë¬¶ì–´ë³´ë‹ˆ ì„¸ ê°€ì§€ ë²”ì£¼ë¡œ êµ¬ë¶„í•´ë³¼ ìˆ˜ ìˆì„ ê²ƒ ê°™ìŒ
    - ê° ë²”ì£¼ì˜ í‰ê· ì„ ì„ ëŒ€ì¶© ê·¸ë ¤ë³´ë©´ ê³„ë‹¨ì‹ìœ¼ë¡œ ë–¨ì–´ì§€ëŠ” í˜•íƒœ

- ì´ë ‡ê²Œ ìˆ˜ì¹˜í˜• ë°ì´í„°ë¥¼ ë²”ì£¼ë¡œ í•´ì„í•´ë³¼ê¹Œ? ë¼ëŠ” ì•„ì´ë””ì–´ë¥¼ ë‚¼ ìˆ˜ë„ ìˆìŒ
    - ê·¸ë ‡ë‹¤ë©´ ptratioê°€ 0 ~ 14, 14 ~ 20, 20 ~ 22 ì˜ ë²”ì£¼ë¡œ ë‚˜ëˆŒ ìˆ˜ ìˆëŠ” íŠ¹ì§•ì€?
    - ì‚¬ë¦½?ê³µë¦½? ë¶€ì´Œ?ì¤‘ì‚°?ìŠ¬ëŸ¼ê°€?

* 4) ì „ì²´ ë³€ìˆ˜ë“¤ë¼ë¦¬ì˜ ìƒê´€ê³„ìˆ˜ë¥¼ êµ¬í•˜ê³ , ê°€ì¥ ê°•í•œ ìƒê´€ê´€ê³„ì™€ ê°€ì¥ ì•½í•œ ìƒê´€ê´€ê³„ë¥¼ ì°¾ì•„ ë´…ì‹œë‹¤.

```python
# sns.pairplot(boston)
# plt.show()
```

```python
boston.corr()
```

<div>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>crim</th>
      <th>zn</th>
      <th>indus</th>
      <th>chas</th>
      <th>nox</th>
      <th>rm</th>
      <th>age</th>
      <th>dis</th>
      <th>rad</th>
      <th>tax</th>
      <th>ptratio</th>
      <th>lstat</th>
      <th>medv</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>crim</th>
      <td>1.000000</td>
      <td>-0.200469</td>
      <td>0.406583</td>
      <td>-0.055892</td>
      <td>0.420972</td>
      <td>-0.219247</td>
      <td>0.352734</td>
      <td>-0.379670</td>
      <td>0.625505</td>
      <td>0.582764</td>
      <td>0.289946</td>
      <td>0.455621</td>
      <td>-0.388305</td>
    </tr>
    <tr>
      <th>zn</th>
      <td>-0.200469</td>
      <td>1.000000</td>
      <td>-0.533828</td>
      <td>-0.042697</td>
      <td>-0.516604</td>
      <td>0.311991</td>
      <td>-0.569537</td>
      <td>0.664408</td>
      <td>-0.311948</td>
      <td>-0.314563</td>
      <td>-0.391679</td>
      <td>-0.412995</td>
      <td>0.360445</td>
    </tr>
    <tr>
      <th>indus</th>
      <td>0.406583</td>
      <td>-0.533828</td>
      <td>1.000000</td>
      <td>0.062938</td>
      <td>0.763651</td>
      <td>-0.391676</td>
      <td>0.644779</td>
      <td>-0.708027</td>
      <td>0.595129</td>
      <td>0.720760</td>
      <td>0.383248</td>
      <td>0.603800</td>
      <td>-0.483725</td>
    </tr>
    <tr>
      <th>chas</th>
      <td>-0.055892</td>
      <td>-0.042697</td>
      <td>0.062938</td>
      <td>1.000000</td>
      <td>0.091203</td>
      <td>0.091251</td>
      <td>0.086518</td>
      <td>-0.099176</td>
      <td>-0.007368</td>
      <td>-0.035587</td>
      <td>-0.121515</td>
      <td>-0.053929</td>
      <td>0.175260</td>
    </tr>
    <tr>
      <th>nox</th>
      <td>0.420972</td>
      <td>-0.516604</td>
      <td>0.763651</td>
      <td>0.091203</td>
      <td>1.000000</td>
      <td>-0.302188</td>
      <td>0.731470</td>
      <td>-0.769230</td>
      <td>0.611441</td>
      <td>0.668023</td>
      <td>0.188933</td>
      <td>0.590879</td>
      <td>-0.427321</td>
    </tr>
    <tr>
      <th>rm</th>
      <td>-0.219247</td>
      <td>0.311991</td>
      <td>-0.391676</td>
      <td>0.091251</td>
      <td>-0.302188</td>
      <td>1.000000</td>
      <td>-0.240265</td>
      <td>0.205246</td>
      <td>-0.209847</td>
      <td>-0.292048</td>
      <td>-0.355501</td>
      <td>-0.613808</td>
      <td>0.695360</td>
    </tr>
    <tr>
      <th>age</th>
      <td>0.352734</td>
      <td>-0.569537</td>
      <td>0.644779</td>
      <td>0.086518</td>
      <td>0.731470</td>
      <td>-0.240265</td>
      <td>1.000000</td>
      <td>-0.747881</td>
      <td>0.456022</td>
      <td>0.506456</td>
      <td>0.261515</td>
      <td>0.602339</td>
      <td>-0.376955</td>
    </tr>
    <tr>
      <th>dis</th>
      <td>-0.379670</td>
      <td>0.664408</td>
      <td>-0.708027</td>
      <td>-0.099176</td>
      <td>-0.769230</td>
      <td>0.205246</td>
      <td>-0.747881</td>
      <td>1.000000</td>
      <td>-0.494588</td>
      <td>-0.534432</td>
      <td>-0.232471</td>
      <td>-0.496996</td>
      <td>0.249929</td>
    </tr>
    <tr>
      <th>rad</th>
      <td>0.625505</td>
      <td>-0.311948</td>
      <td>0.595129</td>
      <td>-0.007368</td>
      <td>0.611441</td>
      <td>-0.209847</td>
      <td>0.456022</td>
      <td>-0.494588</td>
      <td>1.000000</td>
      <td>0.910228</td>
      <td>0.464741</td>
      <td>0.488676</td>
      <td>-0.381626</td>
    </tr>
    <tr>
      <th>tax</th>
      <td>0.582764</td>
      <td>-0.314563</td>
      <td>0.720760</td>
      <td>-0.035587</td>
      <td>0.668023</td>
      <td>-0.292048</td>
      <td>0.506456</td>
      <td>-0.534432</td>
      <td>0.910228</td>
      <td>1.000000</td>
      <td>0.460853</td>
      <td>0.543993</td>
      <td>-0.468536</td>
    </tr>
    <tr>
      <th>ptratio</th>
      <td>0.289946</td>
      <td>-0.391679</td>
      <td>0.383248</td>
      <td>-0.121515</td>
      <td>0.188933</td>
      <td>-0.355501</td>
      <td>0.261515</td>
      <td>-0.232471</td>
      <td>0.464741</td>
      <td>0.460853</td>
      <td>1.000000</td>
      <td>0.374044</td>
      <td>-0.507787</td>
    </tr>
    <tr>
      <th>lstat</th>
      <td>0.455621</td>
      <td>-0.412995</td>
      <td>0.603800</td>
      <td>-0.053929</td>
      <td>0.590879</td>
      <td>-0.613808</td>
      <td>0.602339</td>
      <td>-0.496996</td>
      <td>0.488676</td>
      <td>0.543993</td>
      <td>0.374044</td>
      <td>1.000000</td>
      <td>-0.737663</td>
    </tr>
    <tr>
      <th>medv</th>
      <td>-0.388305</td>
      <td>0.360445</td>
      <td>-0.483725</td>
      <td>0.175260</td>
      <td>-0.427321</td>
      <td>0.695360</td>
      <td>-0.376955</td>
      <td>0.249929</td>
      <td>-0.381626</td>
      <td>-0.468536</td>
      <td>-0.507787</td>
      <td>-0.737663</td>
      <td>1.000000</td>
    </tr>
  </tbody>
</table>
</div>

- ê°€ì¥ ê°•í•œ ìƒê´€ê´€ê³„
    - tax(ì¬ì‚°ì„¸ìœ¨)-rad(ë°©ì‚¬í˜• ê³ ì†ë„ë¡œê¹Œì§€ì˜ ê±°ë¦¬): 0.910228
- ê°€ì¥ ì•½í•œ ìƒê´€ê´€ê³„
    - chas(ì°°ìŠ¤ê°•ë³€ ìœ„ì¹˜(ë²”ì£¼ : ê°•ë³€1, ì•„ë‹ˆë©´ 0))-zn(25,000 í‰ë°©í”¼íŠ¸ë¥¼ ì´ˆê³¼ ê±°ì£¼ì§€ì—­ ë¹„ìœ¨): -0.042697
